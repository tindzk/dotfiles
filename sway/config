set $mod Mod4

# Font for window titles
font pango:DejaVu Sans Mono 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Switch workspaces
bindsym $mod+comma    workspace prev_on_output
bindsym $mod+period   workspace next_on_output
bindsym $mod+Tab      workspace back_and_forth
bindsym $mod+o        exec ~/dotfiles/sway/open-workspace.py
bindsym $mod+shift+o  exec ~/dotfiles/sway/open-workspace.py move
bindsym $mod+semicolon  focus output left
bindsym $mod+apostrophe focus output left

# Change focus of windows
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Kill focused window
bindsym $mod+q kill

# Enter fullscreen mode
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling/floating mode
bindsym $mod+Shift+space floating toggle

# change focus between tiling/floating windows
bindsym $mod+space focus mode_toggle

# Switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Restart in place, preserving active session
bindsym $mod+Shift+r restart

# Application launcher
bindsym $mod+d exec gtkmenu

# Start terminal
bindsym $mod+Return exec kitty

# Pulse Audio controls
bindsym F1 exec pactl set-sink-mute   @DEFAULT_SINK@ toggle
bindsym F2 exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym F3 exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioMute        exec pactl set-sink-mute   @DEFAULT_SINK@ toggle
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%

# Screen brightness controls
bindsym XF86MonBrightnessDown exec light -U 1
bindsym XF86MonBrightnessUp   exec light -A 1

# Lock screen
bindsym $mod+x exec lock

# After 400 seconds, turn off all outputs (and turn them back on when you wiggle the mouse)
# After 500 seconds of inactivity, lock screen
# Lock screen before system goes to sleep
exec swayidle \
    timeout 400 'swaymsg "output * dpms off"' \
       resume 'swaymsg "output * dpms on"' \
    timeout 500 lock \
    before-sleep lock

exec waybar
exec redshift
exec ~/dotfiles/sway/workspace-names.py

# See https://www.reddit.com/r/i3wm/comments/drmc4p/change_audio_sink_to_bluetooth_headset_when_it_is/
exec pacmd load-module module-switch-on-connect
exec blueman-applet

output  DP-1 scale 1 position 1920,0
output  DP-1 bg ~/Wallpapers/DOW3NMLQB3.jpg fill

output eDP-1 scale 2 position 0,0
output eDP-1 bg ~/Wallpapers/T1WAU5W2ZB.jpg fill

input * xkb_layout  annepro,de
input * xkb_variant annepro
input * xkb_options grp:alt_shift_toggle

# Make Octave figures floating to avoid rescaling of axes
for_window [title="Figure.*"] floating enable
