set $mod Mod4

# Font for window titles
font pango:DejaVu Sans Mono 8

workspace 1 output DP-1
workspace 2 output DP-1
workspace 3 output DP-1
workspace 4 output DP-1
workspace 5 output DP-1

workspace 6 output eDP-1
workspace 7 output eDP-1
workspace 8 output eDP-1
workspace 9 output eDP-1
workspace 10 output eDP-1

# Borders
smart_borders             on
smart_gaps                on
hide_edge_borders         both
titlebar_border_thickness 1

# Colours
set $bg-color            #404552

set $focused-bg-color    #FFFFFF
set $active-bg-color     #FFFFFF
set $inactive-bg-color   #FFFFFF
set $urgent-bg-color     #FFFFFF

set $focused-border-color    #404552
set $active-border-color     #000000
set $inactive-border-color   #9da3ad
set $urgent-border-color     #E53935

set $text-color          #000000
set $inactive-text-color #808080

set $indicator           #00ff00

# class                 border                  background         text                 indicator
client.focused          $focused-border-color   $focused-bg-color  $text-color          $indicator
client.unfocused        $inactive-border-color  $inactive-bg-color $inactive-text-color $indicator
client.focused_inactive $inactive-border-color  $focused-bg-color  $inactive-text-color $indicator
client.urgent           $urgent-border-color    $urgent-bg-color   $text-color          $indicator

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Restrict focus left/right to current monitor
focus_wrapping workspace

# Switch workspaces
bindsym $mod+comma    workspace prev_on_output
bindsym $mod+period   workspace next_on_output
bindsym $mod+Tab      workspace back_and_forth
bindsym $mod+o        exec ~/dotfiles/sway/open-workspace.py
bindsym $mod+shift+o  exec ~/dotfiles/sway/open-workspace.py move
bindsym $mod+semicolon  focus output left
bindsym $mod+apostrophe focus output left

# Change focus of windows
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Kill focused window
bindsym $mod+q kill

# Enter fullscreen mode
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling/floating mode
bindsym $mod+Shift+space floating toggle

# change focus between tiling/floating windows
bindsym $mod+space focus mode_toggle

# Switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# Reload configuration, preserving active session
bindsym $mod+Shift+r reload

# Application launcher
bindsym $mod+d exec gtkmenu

# Start terminal
bindsym $mod+Return exec kitty

# Pulse Audio controls
bindsym XF86AudioMute        exec pactl set-sink-mute   @DEFAULT_SINK@ toggle
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%

# Player controls
bindsym XF86AudioPlay exec playerctl --player="mpv,%any" play-pause
bindsym XF86AudioStop exec playerctl --player="mpv,%any" stop
bindsym XF86AudioNext exec playerctl --player="mpv,%any" next
bindsym XF86AudioPrev exec playerctl --player="mpv,%any" previous

# Screen brightness controls
bindsym XF86MonBrightnessDown exec light -U 1
bindsym XF86MonBrightnessUp   exec light -A 1

# Lock screen
bindsym $mod+x exec lock

# After 400 seconds, turn off internal output (and turn them back on when you wiggle the mouse)
# Lock screen before system goes to sleep
exec swayidle \
    timeout 400 'swaymsg "output eDP-1 dpms off"' \
       resume 'swaymsg "output eDP-1 dpms on"' \
    before-sleep lock

exec waybar
exec gammstep
exec ~/dotfiles/sway/workspace-names.py

# E Ink monitor
output DP-1 res 2200x1650 scale 1.4
output DP-1 bg #FFFFFF solid_color

# Laptop screen
output eDP-1 scale 2
output eDP-1 bg ~/Wallpapers/T1WAU5W2ZB.jpg fill

input * xkb_layout  us-custom,ua-custom,de
input * xkb_variant us-custom
input * xkb_options grp:alt_shift_toggle

# Make Octave figures floating to avoid rescaling of axes
for_window [title="Figure.*"] floating enable

# Enable floating mode for other programs too
for_window [title="SOM"]          floating enable
for_window [class="morphologica"] floating enable

# Arrange all windows as tabs by default
workspace_layout tabbed

input "1739:32652:SYNA2B31:00_06CB:7F8C_Touchpad" {
	tap enabled
}

input "1739:6022:SYNA7813:00_06CB:1786" {
	map_to_output eDP-1
}

input "7511:28:HID_Keyboard_Device_HID_Keyboard_Device_Keyboard" {
	events disabled
}
